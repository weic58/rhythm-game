# 🎵 節奏遊戲 Rythm Game

這是一個基於 Web 的互動式節奏記憶遊戲。玩家需要在音樂的節拍上，記憶並唸出卡片上的內容。遊戲支援高度客製化，你可以建立自己的單字卡、使用內建圖庫，甚至從雲端下載別人的主題！

![Game Icon](https://img.shields.io/badge/Version-V15-ff4757?style=for-the-badge) ![HTML5](https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white) ![Firebase](https://img.shields.io/badge/Firebase-FFCA28?style=for-the-badge&logo=firebase&logoColor=black)

## ✨ 特色功能 (Features)

### 🎮 遊戲模式
* **內建主題**：國旗、動物、數字、顏色、數學、美食。
* **🐱 寶可夢模式 (New!)**：串接 PokeAPI，從 1000+ 隻寶可夢中隨機召喚 8 隻，每次遊玩都是驚喜！
* **隨機模式**：
    * `🔒 隨機 (整局鎖)`：整局遊戲鎖定同一組隨機主題。
    * `🎲 隨機 (回合換)`：每一回合都切換不同主題。
    * `🧪 大雜燴`：每一張卡片都來自不同主題的混搭。

### 🛠️ 強大的編輯器 (Customization)
* **維基百科/圖庫搜尋**：支援中文/英文關鍵字，自動爬取維基百科或 Wikimedia Commons 高畫質圖片。
* **深層挖掘技術**：針對電影或模糊關鍵字（如 Iron Man 3），自動挖掘頁面內的海報大圖。
* **✨ AI 生圖**：點擊魔法棒，自動根據關鍵字生成 AI 圖片。
* **✂️ 圖片裁切**：內建裁切器，可將圖片裁切為正方形並自動補白邊 (解決 PNG 變黑問題)。
* **文字卡製作**：支援自訂顏色與文字內容的卡片。

### ⚙️ 專業設定
* **音樂控制**：支援上傳 MP3、調整 BPM (速度)、倍速播放、音樂延遲 (Offset)。
* **提示模式**：可設定「僅第一回合顯示」、「每回合顯示」或是「考試模式 (全隱藏)」。
* **錄音功能**：支援遊戲過程錄音，結束後可回放檢討。
* **介面優化**：折疊式設定選單、自動適應圖片比例（不變形）、清晰的文字描邊。

### ☁️ 雲端與存檔
* **Firebase 整合**：可上傳自製主題或媒體包 (背景+音樂) 到雲端。
* **Local Storage**：所有設定與自製主題皆自動儲存在瀏覽器端，關閉後不會消失。

---

## 🚀 快速開始 (How to Play)

1.  **開啟遊戲**：直接用瀏覽器打開網站 https://weic58.github.io/rhythm-game/ 。
2.  **選擇主題**：在首頁下拉選單選擇想玩的主題（例如：🐱 寶可夢）。
3.  **設定回合**：選擇總回合數 (3/5/10/無限)。
4.  **開始 (START)**：
    * 遊戲會倒數載入。
    * 觀察卡片內容。
    * 跟著音樂節奏，卡片會依序翻開/高亮。
    * 大聲唸出卡片內容！
5.  **結算**：遊戲結束後會顯示回顧清單，如果有開啟錄音，可以聽聽自己的表現。

---

## 📖 操作手冊 (User Manual)

點擊首頁右上角的 **⚙️ 設定** 按鈕，即可打開三大功能區塊：

### 1. 🎨 自訂主題與卡片 (橘色區)
* **搜尋 (1張)**：輸入關鍵字（如 `Dog`），精準搜尋一張圖。
* **主題 (5張)**：輸入關鍵字（如 `歌手`），一次搜尋 5 張不同的相關圖片。
* **編輯單格**：
    * `✨`：AI 生圖。
    * `✂️`：裁切圖片。
    * `🔄`：更換該格圖片（如果有多張候選圖）。
    * `🔎`：針對該格重新搜尋關鍵字。

### 2. ⚙️ 背景與遊戲設定 (綠色區)
* **遊戲背景**：上傳圖片，可裁切並設為全域背景。
* **背景音樂**：上傳 MP3 檔案。
* **進階參數**：
    * `BPM`：調整節奏快慢。
    * `Offset`：調整音樂起始點。
    * `Interval`：回合之間的休息秒數。

### 3. ☁️ 雲端資料庫 (藍色區)
* **上傳**：選擇你的自製主題，輸入密碼後上傳至公共庫。
* **下載**：點擊列表中的 `📥` 下載別人的主題。
* **媒體包**：可以將目前的「背景圖 + 音樂」打包上傳，分享給朋友。

---

## 🛠️ 技術細節

* **Frontend**: 原生 HTML5, CSS3, JavaScript (無須框架)。
* **Database**: Google Firebase Realtime Database (用於雲端分享)。
* **Image Sources**: 
    * Wikipedia API / Wikimedia Commons
    * PokeAPI (官方高畫質圖源)
    * Pollinations AI (AI 生圖)
* **Proxy**: 使用 `corsproxy.io` 解決跨域 (CORS) 問題，確保搜尋功能的穩定性。

## ⚠️ 常見問題 (FAQ)

**Q: 為什麼搜尋英文關鍵字有時候會比較慢？**
A: 為了確保能抓到圖片，系統會嘗試連接美國維基百科，若失敗會自動切換 Proxy 線路，請耐心等待約 3~5 秒。

**Q: 如何刪除我建立的主題？**
A: 在設定視窗選好主題後，點擊「🗑️ 刪除」，確認後即可移除。內建主題無法刪除。

**Q: 錄音功能沒反應？**
A: 請確保瀏覽器有權限存取麥克風，且裝置未處於靜音模式。

---

Created with ❤️ & 🤖 AI Assistant.
